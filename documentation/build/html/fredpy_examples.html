<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>fredpy Examples &#8212; linearsolve 3.1.6 documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '3.1.6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          linearsolve</a>
        <span class="navbar-text navbar-version pull-left"><b>3.1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="series_class.html"><code class="docutils literal"><span class="pre">fredpy.series</span></code> class</a></li>
<li class="toctree-l1"><a class="reference internal" href="additional_functions.html">Additional <code class="docutils literal"><span class="pre">fredpy</span></code> Functions</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#"><code class="docutils literal"><span class="pre">fredpy</span></code> Examples</a><ul>
<li><a class="reference internal" href="#Preliminary-example">Preliminary example</a></li>
<li><a class="reference internal" href="#A-closer-look-at-fredpy-using-real-GDP-data">A closer look at <code class="docutils literal"><span class="pre">fredpy</span></code> using real GDP data</a><ul>
<li><a class="reference internal" href="#Attributes">Attributes</a></li>
<li><a class="reference internal" href="#Methods">Methods</a></li>
</ul>
</li>
<li><a class="reference internal" href="#More-examples">More examples</a><ul>
<li><a class="reference internal" href="#Comparison-of-CPI-and-GDP-deflator-inflation">Comparison of CPI and GDP deflator inflation</a></li>
<li><a class="reference internal" href="#Equalizing-date-ranges-of-different-series">Equalizing date ranges of different series</a></li>
<li><a class="reference internal" href="#Filtering-1:-Extracting-business-cycle-components-from-quarterly-data-with-the-HP-filter">Filtering 1: Extracting business cycle components from quarterly data with the HP filter</a></li>
<li><a class="reference internal" href="#Filtering-2:-Extracting-business-cycle-components-from-monthly-data">Filtering 2: Extracting business cycle components from monthly data</a></li>
<li><a class="reference internal" href="#Exporting-data-sets">Exporting data sets</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="_sources/fredpy_examples.ipynb.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput div.prompt,
div.nbinput div.input_area,
div.nbinput div[class*=highlight],
div.nbinput div[class*=highlight] pre,
div.nboutput,
div.nbinput div.prompt,
div.nbinput div.output_area,
div.nboutput div[class*=highlight],
div.nboutput div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput,
    div.nboutput {
        flex-direction: column;
    }
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput div.prompt pre {
    color: #303F9F;
}

/* output prompt */
div.nboutput div.prompt pre {
    color: #D84315;
}

/* all prompts */
div.nbinput div.prompt,
div.nboutput div.prompt {
    min-width: 9ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput div.prompt,
    div.nboutput div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput div.prompt pre,
div.nboutput div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput div.input_area,
div.nboutput div.output_area {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput div.input_area,
    div.nboutput div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput div.input_area {
    border: 1px solid #cfcfcf;
    border-radius: 2px;
    background: #f7f7f7;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.pngmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }
</style>
<div class="section" id="fredpy-Examples">
<h1><code class="docutils literal"><span class="pre">fredpy</span></code> Examples<a class="headerlink" href="#fredpy-Examples" title="Permalink to this headline">¶</a></h1>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">fredpy</span> <span class="kn">import</span> <span class="n">series</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>
</div>
</div>
<div class="section" id="Preliminary-example">
<h2>Preliminary example<a class="headerlink" href="#Preliminary-example" title="Permalink to this headline">¶</a></h2>
<p>Downloading and plotting unemployment rate data for the US is easy with
<code class="docutils literal"><span class="pre">fredpy</span></code>:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">u</span> <span class="o">=</span> <span class="n">series</span><span class="p">(</span><span class="s1">&#39;UNRATE&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot_date</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">datetimes</span><span class="p">,</span><span class="n">u</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.65</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/fredpy_examples_3_0.png" src="_images/fredpy_examples_3_0.png" />
</div>
</div>
</div>
<div class="section" id="A-closer-look-at-fredpy-using-real-GDP-data">
<h2>A closer look at <code class="docutils literal"><span class="pre">fredpy</span></code> using real GDP data<a class="headerlink" href="#A-closer-look-at-fredpy-using-real-GDP-data" title="Permalink to this headline">¶</a></h2>
<p>Use <code class="docutils literal"><span class="pre">fredpy</span></code> to download real GDP data. The FRED page for real GDP: <a class="reference external" href="https://fred.stlouisfed.org/series/GDPC1">https://fred.stlouisfed.org/series/GDPC1</a>. Note that the series ID - <code class="docutils literal"><span class="pre">GDPC1</span></code> - is in the URL and is visible in several places on the page.</p>
<p>The data in text format is located at: <a class="reference external" href="https://fred.stlouisfed.org/data/gdpc1.txt">https://fred.stlouisfed.org/data/gdpc1.txt</a>. When supplied with the series ID <code class="docutils literal"><span class="pre">GDPC1</span></code>, <code class="docutils literal"><span class="pre">fredpy</span></code> visits the the URL for the text-formatted data, reads the information on the page, and stores the data as attributes of a <a class="reference internal" href="series_class.html#fredpy.series" title="fredpy.series"><code class="xref py py-class docutils literal"><span class="pre">fredpy.series</span></code></a> instance.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># Download quarterly real GDP data using `fredpy`. Save the data in a variable called gdp</span>
<span class="n">gdp</span> <span class="o">=</span> <span class="n">series</span><span class="p">(</span><span class="s1">&#39;gdpc1&#39;</span><span class="p">)</span>

<span class="c1"># Note that gdp is an instance of the `fredpy.series` class</span>
<span class="k">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">gdp</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;class &#39;fredpy.series&#39;&gt;
</pre></div></div>
</div>
<div class="section" id="Attributes">
<h3>Attributes<a class="headerlink" href="#Attributes" title="Permalink to this headline">¶</a></h3>
<p>A <a class="reference internal" href="series_class.html#fredpy.series" title="fredpy.series"><code class="xref py py-class docutils literal"><span class="pre">fredpy.series</span></code></a> instance stores information about a FRED series in 12 attribues:</p>
<ul class="simple">
<li><strong>data:</strong>     (numpy ndarray) – data values.</li>
<li><strong>daterange:</strong>        (string) – specifies the dates of the first and last observations.</li>
<li><strong>dates:</strong>    (list) – list of date strings in YYYY-MM-DD format.</li>
<li><strong>datetimes:</strong>        (numpy ndarray) – array containing observation dates formatted as datetime.datetime instances.</li>
<li><strong>freq:</strong>     (string) – data frequency. ‘Daily’, ‘Weekly’, ‘Monthly’, ‘Quarterly’, or ‘Annual’.</li>
<li><strong>idCode:</strong>   (string) – unique FRED series ID code.</li>
<li><strong>season:</strong>   (string) – specifies whether the data has been seasonally adjusted.</li>
<li><strong>source:</strong>   (string) – original source of the data.</li>
<li><strong>t:</strong>        (integer) – number corresponding to frequency: 365 for daily, 52 for weekly, 12 for monthly, 4 for quarterly, and 1 for annual.</li>
<li><strong>title:</strong>    (string) – title of the data series.</li>
<li><strong>units:</strong>    (string) – units of the data series.</li>
<li><strong>updated:</strong>  (string) – date series was last updated.</li>
</ul>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># Print the title, the units, the frequency, the date range, and the source of the gdp data</span>
<span class="k">print</span><span class="p">(</span><span class="n">gdp</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">gdp</span><span class="o">.</span><span class="n">units</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">gdp</span><span class="o">.</span><span class="n">freq</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">gdp</span><span class="o">.</span><span class="n">daterange</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">gdp</span><span class="o">.</span><span class="n">source</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Real Gross Domestic Product
Billions of Chained 2009 Dollars
Quarterly
Range: 1947-01-01 to 2016-04-01
US. Bureau of Economic Analysis
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># Print the last 4 values of the gdp data</span>
<span class="k">print</span><span class="p">(</span><span class="n">gdp</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">:],</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="c1"># Print the last 4 values of the gdp series dates</span>
<span class="k">print</span><span class="p">(</span><span class="n">gdp</span><span class="o">.</span><span class="n">dates</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">:],</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="c1"># Print the last 4 values of the gdp series datetimes</span>
<span class="k">print</span><span class="p">(</span><span class="n">gdp</span><span class="o">.</span><span class="n">datetimes</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">:])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[ 16454.9  16490.7  16525.   16570.2]

[&#39;2015-07-01&#39;, &#39;2015-10-01&#39;, &#39;2016-01-01&#39;, &#39;2016-04-01&#39;]

[datetime.datetime(2015, 7, 1, 0, 0) datetime.datetime(2015, 10, 1, 0, 0)
 datetime.datetime(2016, 1, 1, 0, 0) datetime.datetime(2016, 4, 1, 0, 0)]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># Plot real GDP data</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot_date</span><span class="p">(</span><span class="n">gdp</span><span class="o">.</span><span class="n">datetimes</span><span class="p">,</span><span class="n">gdp</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.65</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">gdp</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">gdp</span><span class="o">.</span><span class="n">units</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[6]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>&lt;matplotlib.text.Text at 0x11aa812e8&gt;
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/fredpy_examples_9_1.png" src="_images/fredpy_examples_9_1.png" />
</div>
</div>
</div>
<div class="section" id="Methods">
<h3>Methods<a class="headerlink" href="#Methods" title="Permalink to this headline">¶</a></h3>
<p>A <a class="reference internal" href="series_class.html#fredpy.series" title="fredpy.series"><code class="xref py py-class docutils literal"><span class="pre">fredpy.series</span></code></a> instance has 22 methods:</p>
<ul class="simple">
<li><strong>apc</strong>(log=True, method=&#8217;backward&#8217;)</li>
<li><strong>bpfilter</strong>(low=6, high=32, K=12)</li>
<li><strong>cffilter</strong>(low=6, high=32)</li>
<li><strong>copy</strong>()</li>
<li><strong>divide</strong>(series2)</li>
<li><strong>firstdiff</strong>()</li>
<li><strong>hpfilter</strong>(lamb=1600)</li>
<li><strong>lintrend</strong>()</li>
<li><strong>log</strong>()</li>
<li><strong>ma1side</strong>(length)</li>
<li><strong>ma2side</strong>(length)</li>
<li><strong>minus</strong>(series2)</li>
<li><strong>monthtoannual</strong>(method=&#8217;average&#8217;)</li>
<li><strong>monthtoquarter</strong>(method=&#8217;average&#8217;)</li>
<li><strong>pc</strong>(log=True, method=&#8217;backward&#8217;, annualized=False)</li>
<li><strong>percapita</strong>(total_pop=True)</li>
<li><strong>plus</strong>(series2)</li>
<li><strong>quartertoannual</strong>(method=&#8217;average&#8217;)</li>
<li><strong>recent</strong>(N)</li>
<li><strong>recessions</strong>(color=&#8216;0.5&#8217;, alpha = 0.5)</li>
<li><strong>times</strong>(series2)</li>
<li><strong>window</strong>(win)</li>
</ul>
<p>The fredpy documentation has detailed explanations of the use of these methods: <a class="reference external" href="http://www.briancjenkins.com/fredpy-package/documentation/build/html/series_class.html">http://www.briancjenkins.com/fredpy-package/documentation/build/html/series_class.html</a>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># Restrict GDP to observations from January 1, 1990 to present</span>
<span class="n">win</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;01-01-1990&#39;</span><span class="p">,</span><span class="s1">&#39;01-01-2200&#39;</span><span class="p">]</span>
<span class="n">gdp_win</span> <span class="o">=</span> <span class="n">gdp</span><span class="o">.</span><span class="n">window</span><span class="p">(</span><span class="n">win</span><span class="p">)</span>

<span class="c1"># Plot</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot_date</span><span class="p">(</span><span class="n">gdp_win</span><span class="o">.</span><span class="n">datetimes</span><span class="p">,</span><span class="n">gdp_win</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.65</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">gdp_win</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">gdp_win</span><span class="o">.</span><span class="n">units</span><span class="p">)</span>

<span class="c1"># Plot recession bars</span>
<span class="n">gdp_win</span><span class="o">.</span><span class="n">recessions</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/fredpy_examples_11_0.png" src="_images/fredpy_examples_11_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># Compute and plot the (annualized) quarterly growth rate of real GDP</span>
<span class="n">gdp_pc</span> <span class="o">=</span> <span class="n">gdp</span><span class="o">.</span><span class="n">pc</span><span class="p">(</span><span class="n">annualized</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="c1"># Plot</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot_date</span><span class="p">(</span><span class="n">gdp_pc</span><span class="o">.</span><span class="n">datetimes</span><span class="p">,</span><span class="n">gdp_pc</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.65</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">gdp_pc</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">gdp_pc</span><span class="o">.</span><span class="n">units</span><span class="p">)</span>

<span class="c1"># Plot recession bars</span>
<span class="n">gdp_pc</span><span class="o">.</span><span class="n">recessions</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/fredpy_examples_12_0.png" src="_images/fredpy_examples_12_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># Compute and plot the log of real GDP</span>
<span class="n">gdp_log</span> <span class="o">=</span> <span class="n">gdp</span><span class="o">.</span><span class="n">log</span><span class="p">()</span>

<span class="c1"># Plot</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot_date</span><span class="p">(</span><span class="n">gdp_log</span><span class="o">.</span><span class="n">datetimes</span><span class="p">,</span><span class="n">gdp_log</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.65</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">gdp_log</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">gdp_log</span><span class="o">.</span><span class="n">units</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/fredpy_examples_13_0.png" src="_images/fredpy_examples_13_0.png" />
</div>
</div>
</div>
</div>
<div class="section" id="More-examples">
<h2>More examples<a class="headerlink" href="#More-examples" title="Permalink to this headline">¶</a></h2>
<p>The following examples demonstrate some additional <code class="docutils literal"><span class="pre">fredpy</span></code>
functionality.</p>
<div class="section" id="Comparison-of-CPI-and-GDP-deflator-inflation">
<h3>Comparison of CPI and GDP deflator inflation<a class="headerlink" href="#Comparison-of-CPI-and-GDP-deflator-inflation" title="Permalink to this headline">¶</a></h3>
<p>CPI data are released monthly by the BLS while GDP deflator data are
released quarterly by the BEA. Here we&#8217;ll first convert the monthly CPI
data to monthly frequency compute inflation as the percentage change in
the respective index since on year prior.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># Download CPI and GDP deflator data</span>
<span class="n">cpi</span> <span class="o">=</span> <span class="n">series</span><span class="p">(</span><span class="s1">&#39;CPIAUCSL&#39;</span><span class="p">)</span>
<span class="n">deflator</span> <span class="o">=</span> <span class="n">series</span><span class="p">(</span><span class="s1">&#39;GDPDEF&#39;</span><span class="p">)</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot_date</span><span class="p">(</span><span class="n">cpi</span><span class="o">.</span><span class="n">datetimes</span><span class="p">,</span><span class="n">cpi</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.65</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">cpi</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">cpi</span><span class="o">.</span><span class="n">units</span><span class="p">)</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot_date</span><span class="p">(</span><span class="n">deflator</span><span class="o">.</span><span class="n">datetimes</span><span class="p">,</span><span class="n">deflator</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="s1">&#39;-m&#39;</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.65</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">deflator</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">deflator</span><span class="o">.</span><span class="n">units</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[10]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>&lt;matplotlib.text.Text at 0x11afd5b70&gt;
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/fredpy_examples_16_1.png" src="_images/fredpy_examples_16_1.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># The CPI data are produced at a monthly frequency</span>
<span class="k">print</span><span class="p">(</span><span class="n">cpi</span><span class="o">.</span><span class="n">freq</span><span class="p">)</span>

<span class="c1"># Convert CPI data to quarterly frequency to conform with the GDP deflator</span>
<span class="n">cpi2</span> <span class="o">=</span> <span class="n">cpi</span><span class="o">.</span><span class="n">monthtoquarter</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">cpi2</span><span class="o">.</span><span class="n">freq</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Monthly
Quarterly
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># Compute the inflation rate based on each index</span>
<span class="n">cpi_pi</span> <span class="o">=</span> <span class="n">cpi2</span><span class="o">.</span><span class="n">apc</span><span class="p">()</span>
<span class="n">def_pi</span> <span class="o">=</span> <span class="n">deflator</span><span class="o">.</span><span class="n">apc</span><span class="p">()</span>

<span class="c1"># Print date ranges for new inflation series</span>
<span class="k">print</span><span class="p">(</span><span class="n">cpi_pi</span><span class="o">.</span><span class="n">daterange</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">def_pi</span><span class="o">.</span><span class="n">daterange</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Range: 1948-01-01 to 2016-04-01
Range: 1948-01-01 to 2016-04-01
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot_date</span><span class="p">(</span><span class="n">cpi_pi</span><span class="o">.</span><span class="n">datetimes</span><span class="p">,</span><span class="n">cpi_pi</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.65</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;cpi&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot_date</span><span class="p">(</span><span class="n">def_pi</span><span class="o">.</span><span class="n">datetimes</span><span class="p">,</span><span class="n">def_pi</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.65</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;def&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper right&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;US inflation&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Percent&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/fredpy_examples_19_0.png" src="_images/fredpy_examples_19_0.png" />
</div>
</div>
<p>Even though the CPI inflation rate is on average about .3% higher the
GDP deflator inflation rate, the CPI and the GDP deflator produce
comparable measures of US inflation.</p>
</div>
<div class="section" id="Equalizing-date-ranges-of-different-series">
<h3>Equalizing date ranges of different series<a class="headerlink" href="#Equalizing-date-ranges-of-different-series" title="Permalink to this headline">¶</a></h3>
<p>Often data series have different observation ranges. The <a class="reference internal" href="additional_functions.html#fredpy.window_equalize" title="fredpy.window_equalize"><code class="xref py py-func docutils literal"><span class="pre">fredpy.window_equalize()</span></code></a> function provides a quick way to set the date ranges for multiple series to the same interval.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">fredpy</span> <span class="kn">import</span> <span class="n">window_equalize</span>

<span class="c1"># Download unemployment and 3 month T-bill data</span>
<span class="n">unemp</span> <span class="o">=</span> <span class="n">series</span><span class="p">(</span><span class="s1">&#39;UNRATE&#39;</span><span class="p">)</span>
<span class="n">tbill_3m</span> <span class="o">=</span> <span class="n">series</span><span class="p">(</span><span class="s1">&#39;TB3MS&#39;</span><span class="p">)</span>

<span class="c1"># Print date ranges for series</span>
<span class="k">print</span><span class="p">(</span><span class="n">unemp</span><span class="o">.</span><span class="n">daterange</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">tbill_3m</span><span class="o">.</span><span class="n">daterange</span><span class="p">)</span>

<span class="c1"># Equalize the date ranges</span>
<span class="n">unemp</span><span class="p">,</span> <span class="n">tbill_3m</span> <span class="o">=</span> <span class="n">window_equalize</span><span class="p">([</span><span class="n">unemp</span><span class="p">,</span> <span class="n">tbill_3m</span><span class="p">])</span>

<span class="c1"># Print the new date ranges for series</span>
<span class="k">print</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">unemp</span><span class="o">.</span><span class="n">daterange</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">tbill_3m</span><span class="o">.</span><span class="n">daterange</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Range: 1948-01-01 to 2016-08-01
Range: 1934-01-01 to 2016-08-01

Range: 1948-01-01 to 2016-08-01
Range: 1948-01-01 to 2016-08-01
</pre></div></div>
</div>
</div>
<div class="section" id="Filtering-1:-Extracting-business-cycle-components-from-quarterly-data-with-the-HP-filter">
<h3>Filtering 1: Extracting business cycle components from quarterly data with the HP filter<a class="headerlink" href="#Filtering-1:-Extracting-business-cycle-components-from-quarterly-data-with-the-HP-filter" title="Permalink to this headline">¶</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># Download nominal GDP, the GDP deflator</span>

<span class="n">gdp</span> <span class="o">=</span> <span class="n">series</span><span class="p">(</span><span class="s1">&#39;GDP&#39;</span><span class="p">)</span>
<span class="n">defl</span> <span class="o">=</span> <span class="n">series</span><span class="p">(</span><span class="s1">&#39;GDPDEF&#39;</span><span class="p">)</span>

<span class="c1"># Make sure that all series have the same window of observation</span>
<span class="n">gdp</span><span class="p">,</span><span class="n">defl</span> <span class="o">=</span> <span class="n">window_equalize</span><span class="p">([</span><span class="n">gdp</span><span class="p">,</span><span class="n">defl</span><span class="p">])</span>

<span class="c1"># Deflate GDP series</span>
<span class="n">gdp</span> <span class="o">=</span> <span class="n">gdp</span><span class="o">.</span><span class="n">divide</span><span class="p">(</span><span class="n">defl</span><span class="p">)</span>

<span class="c1"># Convert GDP to per capita terms</span>
<span class="n">gdp</span> <span class="o">=</span> <span class="n">gdp</span><span class="o">.</span><span class="n">percapita</span><span class="p">()</span>

<span class="c1"># Take log of GDP</span>
<span class="n">gdp</span> <span class="o">=</span> <span class="n">gdp</span><span class="o">.</span><span class="n">log</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># Plot log data</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>

<span class="n">ax1</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">plot_date</span><span class="p">(</span><span class="n">gdp</span><span class="o">.</span><span class="n">datetimes</span><span class="p">,</span><span class="n">gdp</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.65</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;log real GDP per capita&#39;</span><span class="p">)</span>
<span class="c1"># ax1.set_ylabel(gdp.units)</span>
<span class="n">gdp</span><span class="o">.</span><span class="n">recessions</span><span class="p">()</span>

<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/fredpy_examples_25_0.png" src="_images/fredpy_examples_25_0.png" />
</div>
</div>
<p>The post-Great Recession slowdown in US real GDP growth is apparent in
the figure.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># Compute the hpfilter</span>
<span class="n">gdp_cycle</span><span class="p">,</span> <span class="n">gdp_trend</span> <span class="o">=</span> <span class="n">gdp</span><span class="o">.</span><span class="n">hpfilter</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># Plot log data</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>

<span class="n">ax1</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">plot_date</span><span class="p">(</span><span class="n">gdp</span><span class="o">.</span><span class="n">datetimes</span><span class="p">,</span><span class="n">gdp</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.7</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;actual&#39;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">plot_date</span><span class="p">(</span><span class="n">gdp_trend</span><span class="o">.</span><span class="n">datetimes</span><span class="p">,</span><span class="n">gdp_trend</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="s1">&#39;r-&#39;</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.65</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;HP trend&#39;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;log real GDP per capita&#39;</span><span class="p">)</span>
<span class="n">gdp</span><span class="o">.</span><span class="n">recessions</span><span class="p">()</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;lower right&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>

<span class="n">ax1</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">plot_date</span><span class="p">(</span><span class="n">gdp_cycle</span><span class="o">.</span><span class="n">datetimes</span><span class="p">,</span><span class="n">gdp_cycle</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="s1">&#39;b-&#39;</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.65</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;HP cycle&#39;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;log real GDP per capita - dev from trend&#39;</span><span class="p">)</span>
<span class="n">gdp</span><span class="o">.</span><span class="n">recessions</span><span class="p">()</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;lower right&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/fredpy_examples_28_0.png" src="_images/fredpy_examples_28_0.png" />
</div>
</div>
</div>
<div class="section" id="Filtering-2:-Extracting-business-cycle-components-from-monthly-data">
<h3>Filtering 2: Extracting business cycle components from monthly data<a class="headerlink" href="#Filtering-2:-Extracting-business-cycle-components-from-monthly-data" title="Permalink to this headline">¶</a></h3>
<p>In Figure 1.5 from <em>The Conquest of American Inflation</em>, Thomas Sargent
compares the business cycle componenets (BP filtered) of monthly
inflation and unemployment data for the US from 1960-1982. Here we
replicate Figure 1.5 to include the most recently available data and we
also consturct the figure using HP filtered data.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">u</span> <span class="o">=</span> <span class="n">series</span><span class="p">(</span><span class="s1">&#39;LNS14000028&#39;</span><span class="p">)</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">series</span><span class="p">(</span><span class="s1">&#39;CPIAUCSL&#39;</span><span class="p">)</span>

<span class="c1"># Construct the inflation series</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">pc</span><span class="p">(</span><span class="n">annualized</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">ma2side</span><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>

<span class="c1"># Make sure that the data inflation and unemployment series cver the same time interval</span>
<span class="n">p</span><span class="p">,</span><span class="n">u</span> <span class="o">=</span> <span class="n">window_equalize</span><span class="p">([</span><span class="n">p</span><span class="p">,</span><span class="n">u</span><span class="p">])</span>

<span class="c1"># Data</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot_date</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">datetimes</span><span class="p">,</span><span class="n">u</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="s1">&#39;b-&#39;</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Inflation&#39;</span><span class="p">)</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot_date</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">datetimes</span><span class="p">,</span><span class="n">p</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="s1">&#39;r-&#39;</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Unemployment&#39;</span><span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">autofmt_xdate</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/fredpy_examples_30_0.png" src="_images/fredpy_examples_30_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># Filter the data</span>
<span class="n">p_bpcycle</span><span class="p">,</span><span class="n">p_bptrend</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">bpfilter</span><span class="p">(</span><span class="n">low</span><span class="o">=</span><span class="mi">24</span><span class="p">,</span><span class="n">high</span><span class="o">=</span><span class="mi">84</span><span class="p">,</span><span class="n">K</span><span class="o">=</span><span class="mi">84</span><span class="p">)</span>
<span class="n">u_bpcycle</span><span class="p">,</span><span class="n">u_bptrend</span> <span class="o">=</span> <span class="n">u</span><span class="o">.</span><span class="n">bpfilter</span><span class="p">(</span><span class="n">low</span><span class="o">=</span><span class="mi">24</span><span class="p">,</span><span class="n">high</span><span class="o">=</span><span class="mi">84</span><span class="p">,</span><span class="n">K</span><span class="o">=</span><span class="mi">84</span><span class="p">)</span>

<span class="c1"># Scatter plot of BP-filtered inflation and unemployment data (Sargent&#39;s Figure 1.5)</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">u_bpcycle</span><span class="o">.</span><span class="n">data</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">u_bpcycle</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="n">p_bpcycle</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="n">facecolors</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.75</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="n">t</span><span class="p">,</span> <span class="n">linewidths</span><span class="o">=</span><span class="mf">1.5</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;unemployment rate (%)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;inflation rate (%)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Inflation and unemployment: BP-filtered data&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/fredpy_examples_31_0.png" src="_images/fredpy_examples_31_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># HP filter</span>
<span class="n">p_hpcycle</span><span class="p">,</span><span class="n">p_hptrend</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">hpfilter</span><span class="p">(</span><span class="n">lamb</span><span class="o">=</span><span class="mi">129600</span><span class="p">)</span>
<span class="n">u_hpcycle</span><span class="p">,</span><span class="n">u_hptrend</span> <span class="o">=</span> <span class="n">u</span><span class="o">.</span><span class="n">hpfilter</span><span class="p">(</span><span class="n">lamb</span><span class="o">=</span><span class="mi">129600</span><span class="p">)</span>

<span class="c1"># Scatter plot of BP-filtered inflation and unemployment data (Sargent&#39;s Figure 1.5)</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">u_hpcycle</span><span class="o">.</span><span class="n">data</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">u_hpcycle</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="n">p_hpcycle</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="n">facecolors</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.75</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="n">t</span><span class="p">,</span> <span class="n">linewidths</span><span class="o">=</span><span class="mf">1.5</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;unemployment rate (%)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;inflation rate (%)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Inflation and unemployment: HP-filtered data&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/fredpy_examples_32_0.png" src="_images/fredpy_examples_32_0.png" />
</div>
</div>
<p>The choice of filterning method appears to strongly influence the
results. While both filtering methods</p>
</div>
<div class="section" id="Exporting-data-sets">
<h3>Exporting data sets<a class="headerlink" href="#Exporting-data-sets" title="Permalink to this headline">¶</a></h3>
<p>Exporting data inported with <code class="docutils literal"><span class="pre">fredpy</span></code> to csv files is easy with
<code class="docutils literal"><span class="pre">Pandas</span></code>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># create a Pandas DataFrame</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;inflation&#39;</span><span class="p">:</span><span class="n">p</span><span class="o">.</span><span class="n">data</span><span class="p">,</span>
                    <span class="s1">&#39;unemployment&#39;</span><span class="p">:</span><span class="n">u</span><span class="o">.</span><span class="n">data</span><span class="p">})</span>

<span class="c1"># Set the index of the DataFrame</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">dates</span><span class="p">))</span>

<span class="k">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="c1"># Export to csv</span>
<span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;data.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
               inflation  unemployment
1954-01-01  6.330313e-01           3.6
1954-02-01  2.609508e-01           3.8
1954-03-01 -1.411834e-14           4.1
1954-04-01 -2.979518e-01           4.7
1954-05-01 -8.570949e-01           4.6
</pre></div></div>
</div>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2017, Brian C. Jenkins.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>